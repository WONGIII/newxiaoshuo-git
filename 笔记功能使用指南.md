# 笔记功能使用指南

## 概述

本系统新增了类似Notion的笔记功能，专为小说创作设计。您可以使用Markdown格式创建小说章节草稿，所有内容都会自动保存到SQLite数据库，不会因刷新而丢失。写完后可以直接发布为正式章节。

## 主要特性

### ✨ 核心功能
- **实时自动保存** - 每输入一个字符都会自动保存，永不丢失
- **Markdown支持** - 支持粗体、斜体、列表等基本格式
- **AI写作助手** - 集成OpenAI兼容API，辅助创作
- **毛玻璃设计** - 优雅舒适的界面设计
- **草稿管理** - 每本小说独立的草稿空间

### 🎨 设计特色
- 精美舒适的渐变配色
- 毛玻璃模糊效果
- 高雅简约的界面风格
- 响应式设计，适配各种设备

## 快速开始

### 1. 配置AI助手
1. 登录后进入**作家后台**
2. 点击右上角 **"AI设置"** 按钮
3. 填写以下信息：
   - **API Key**: 从DeepSeek或其他OpenAI兼容服务获取
   - **Base URL**: 例如 `https://api.deepseek.com`
   - **模型名称**: 例如 `deepseek-chat` 或 `gpt-3.5-turbo`

### 2. 创建草稿
1. 在作家后台找到您的小说
2. 点击 **"草稿笔记"** 按钮
3. 点击 **"新建草稿"** 开始创作

### 3. 使用编辑器
- **标题**: 在顶部输入框输入章节标题
- **内容**: 在编辑器中输入章节内容
- **工具栏**: 使用工具栏按钮添加格式
- **自动保存**: 右下角显示保存状态

### 4. AI助手使用
1. 点击 **"AI助手"** 或 **"AI建议"** 按钮
2. 在弹出的窗口中：
   - 输入您的请求（如：润色这段文字、续写故事等）
   - 可选：提供上下文信息
   - 点击 **"生成"** 获取AI回复
3. 可以选择 **"插入到编辑器"** 或 **"复制"** 结果

### 5. 发布章节
1. 完成草稿后，点击 **"发布章节"** 按钮
2. 系统会自动分配章节号并发布
3. 发布后草稿会标记为"已发布"

## 支持的API提供商

### 🚀 推荐配置
**DeepSeek** - 性价比高，中文优化
- Base URL: `https://api.deepseek.com`
- 模型: `deepseek-chat`
- 获取API Key: 访问 DeepSeek 官网

### 🔧 其他选项
- **OpenAI官方** - 稳定可靠
- **其他兼容OpenAI格式的API** - 如Azure OpenAI等

## 快捷键

- `Ctrl + S` - 手动保存
- 工具栏按钮 - 快速格式化文本
- 自动粘贴处理 - 粘贴时自动清理格式

## 功能说明

### 自动保存机制
- 输入时自动延迟1秒保存
- 保存状态实时显示
- 网络异常时会提示保存失败

### 草稿管理
- 每本小说有独立的草稿列表
- 草稿按更新时间排序
- 支持删除未发布的草稿
- 已发布的草稿会显示章节号

### AI助手能力
- 文字润色和优化
- 故事续写和扩展
- 角色对话生成
- 情节建议
- 风格模仿

## 故障排除

### 常见问题

**Q: AI助手无法使用**
A: 检查AI设置中的API配置是否正确，确保API Key有效且余额充足。

**Q: 保存失败**
A: 检查网络连接，刷新页面后重试。

**Q: 格式显示异常**
A: 编辑器支持基本的HTML格式，复杂的Markdown语法可能无法完全渲染。

**Q: 草稿列表为空**
A: 确保您已创建草稿，检查是否正确的小说ID。

### 技术支持

如遇问题，请检查：
1. 浏览器控制台是否有错误信息
2. 网络连接是否正常
3. API配置是否正确
4. 数据库文件是否可写

## 最佳实践

### 写作建议
1. **分段写作** - 使用草稿功能分段创作长篇
2. **AI辅助** - 利用AI进行初稿润色和灵感激发
3. **定期备份** - 重要内容建议本地备份
4. **版本管理** - 重大修改前可创建新草稿保留历史版本

### 性能优化
- 避免单篇草稿内容过长
- 定期清理不需要的草稿
- 使用简洁的Markdown格式

---

开始享受优雅的小说创作体验吧！🎉