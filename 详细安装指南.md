# 优雅小说网站 - 详细 Windows 安装指南

## 系统要求
- Windows 10 或更高版本
- Python 3.7 或更高版本
- 网络连接（用于下载依赖包）

## 完整安装步骤

### 1. 安装 Python

#### 方法一：从官网下载安装
1. 访问 Python 官网：https://www.python.org/downloads/
2. 点击 "Download Python 3.x.x"（下载最新版本）
3. 运行下载的安装程序
4. **重要**：在安装界面中，务必勾选 "Add Python to PATH" 选项
5. 点击 "Install Now" 完成安装

#### 方法二：使用 Microsoft Store（推荐新手）
1. 打开 Microsoft Store
2. 搜索 "Python"
3. 选择 "Python 3.11" 或更高版本
4. 点击 "获取" 进行安装
5. 这种方法会自动配置环境变量

### 2. 验证 Python 安装

1. 按 `Win + R` 键，输入 `cmd`，然后按回车打开命令提示符
2. 输入以下命令检查 Python 是否安装成功：
```cmd
python --version
```
如果显示类似 `Python 3.11.0` 的版本信息，说明安装成功。

3. 检查 pip 是否可用：
```cmd
pip --version
```

### 3. 准备项目文件

1. 确保所有项目文件都在同一个文件夹中（xiaoshou 文件夹）
2. 在文件资源器中打开 xiaoshou 文件夹
3. 在地址栏中输入 `cmd` 然后按回车，这样会在当前目录打开命令提示符

### 4. 安装项目依赖

在命令提示符中执行以下命令：

```cmd
pip install -r requirements.txt
```

如果遇到权限问题，可以尝试：
```cmd
python -m pip install -r requirements.txt
```

如果下载速度慢，可以使用国内镜像：
```cmd
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 5. 运行网站

在项目目录下执行：
```cmd
python run.py
```

### 6. 访问网站

1. 打开您喜欢的浏览器（Chrome、Edge、Firefox等）
2. 在地址栏输入：`http://127.0.0.1:5000`
3. 按回车访问网站

## 默认账户信息

首次运行会自动创建超级管理员账户：
- **用户名**：admin
- **密码**：admin123
- **邮箱**：admin@novel.com

**重要**：首次登录后请立即修改密码！

## 常见问题解决

### 问题1：'python' 不是内部或外部命令
**原因**：Python 没有添加到系统环境变量

**解决方案**：
1. 重新安装 Python，确保勾选 "Add Python to PATH"
2. 或使用完整路径运行 Python：
```cmd
C:\Users\[用户名]\AppData\Local\Programs\Python\Python311\python.exe run.py
```

### 问题2：pip 命令不可用
**解决方案**：
```cmd
python -m pip install -r requirements.txt
```

### 问题3：端口 5000 被占用
**解决方案**：
1. 按 `Ctrl + C` 停止当前程序
2. 编辑 `run.py` 文件，修改端口号：
```python
app.run(debug=True, host="0.0.0.0", port=5001)  # 改为其他端口
```
3. 重新运行程序

### 问题4：依赖安装失败
**解决方案**：
1. 更新 pip：
```cmd
python -m pip install --upgrade pip
```

2. 逐个安装依赖：
```cmd
pip install Flask==2.3.3
pip install Flask-SQLAlchemy==3.0.5
pip install Werkzeug==2.3.7
```

### 问题5：防火墙警告
如果系统弹出防火墙警告，请选择 "允许访问"

## 项目文件结构说明

```
xiaoshou/
├── app.py              # 主应用程序
├── models.py           # 数据模型定义
├── run.py              # 启动脚本（包含创建管理员账户）
├── requirements.txt    # Python依赖包列表
├── README.md          # 项目功能说明
├── 安装指南.md         # 简要安装指南
├── 详细安装指南.md     # 本文件
├── templates/          # 网页模板文件
│   ├── base.html      # 基础模板
│   ├── index.html     # 首页
│   ├── login.html     # 登录页
│   ├── register.html  # 注册页
│   ├── novel_detail.html  # 小说详情页
│   ├── read.html      # 阅读页面
│   ├── author_dashboard.html  # 作家后台
│   ├── create_novel.html     # 创建小说
│   ├── create_chapter.html   # 创建章节
│   ├── edit_novel.html       # 编辑小说
│   ├── edit_chapter.html     # 编辑章节
│   └── admin_dashboard.html  # 管理后台
└── static/            # 静态资源文件
    ├── css/
    │   └── style.css  # 主样式文件
    ├── js/
    │   └── main.js    # JavaScript功能
    └── images/        # 图片资源（可放置封面图片）
```

## 网站功能预览

### 首页功能
- 浏览最新小说
- 用户注册/登录
- 响应式设计

### 读者功能
- 阅读小说章节
- 发表评论
- 查看作者信息

### 作家功能
- 创建和管理小说
- 发布和编辑章节
- 添加作者说
- 查看作品统计

### 管理员功能
- 用户管理
- 作品管理
- 权限设置
- 系统统计

## 开发说明

- 数据库使用 SQLite，数据文件为 `novel.db`
- 修改代码后需要重启服务才能生效
- 生产环境建议：
  - 修改 `SECRET_KEY`
  - 使用更安全的数据库（如 PostgreSQL）
  - 配置 HTTPS

## 获取帮助

如果按照以上步骤仍然无法运行，请检查：

1. ✅ Python 版本是否为 3.7+
2. ✅ 是否在正确的项目目录中运行命令
3. ✅ 依赖包是否安装成功
4. ✅ 端口 5000 是否被其他程序占用

祝您使用愉快！📚✨